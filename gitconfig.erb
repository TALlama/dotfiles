<%
current = proc {|path| %x{git config --global #{path}}.chomp }
%>[user]
	name = <%= current_or_prompt("user.name", "Your Name", &current) %>
	email = <%= current_or_prompt("user.email", "Your Email", &current) %>
[alias]
	co = checkout
[color]
	diff = auto
	status = auto
	branch = auto
	interactive = auto
[core]
	excludesfile = <%= ENV['HOME'] %>/.gitignore
	editor = mate -w
	autocrlf = input
[apply]
	whitespace = nowarn
[format]
	pretty = %C(yellow)%h%Creset %s %C(red)(%an, %cr) %C(blue)%d%Creset
[github]
	user = <%= current_or_prompt("github.user", "GitHub Username", &current) %>
	token = <%= current_or_prompt("github.token", "GitHub API Token", &current) %>
[merge]
	tool = opendiff
	summary = true
[alias]
	st = status
	ci = commit
	co = checkout
	br = branch
	cob = checkout -b
	up = !git fetch origin && git rebase origin/master
	ir = !git rebase -i origin/master
	ff = !git save && git rebase && git pop
	di = diff
	type = cat-file -t
	dump = cat-file -p
	undo-last-commit = reset --soft HEAD^
	kill-last-commit = reset --hard HEAD^
	fix = commit --amend -C HEAD
	log-graph = log --all --graph --decorate
	who = shortlog -n -s --no-merges
	wip = !"git add -A; git ls-files --deleted -z | xargs -0 git rm; git commit -m \"wip\""
	unwip = !"git log -n 1 | grep -q -c wip && git reset HEAD~1"
	rb = !"git wip;git rebase origin/master;git unwip"
	save = stash save
	pop = stash pop
	outgoing = diff origin/master
	incoming = !"git fetch; git st"
	ls-untracked = "ls-files --other --exclude-standard"
	hist = log --pretty=format:'%h %ad | %s%d [%an]' --graph --date=short
	unstage = reset HEAD --
	review = "!git co -b $1-$2 upstream/qa; git pull "
